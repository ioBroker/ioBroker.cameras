/*! For license information please see src_SnapshotCamera_jsx.40cc413d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkiobroker_vis_2_widgets_camera=self.webpackChunkiobroker_vis_2_widgets_camera||[]).push([["src_SnapshotCamera_jsx","node_modules_react_jsx-runtime_js-node_modules_babel_runtime_helpers_esm_defineProperty_js","node_modules_react_jsx-runtime_js-node_modules_babel_runtime_helpers_esm_assertThisInitialize-43abc1","src_RtspCamera_jsx"],{52665:function(t,e,n){var r=n(15671),a=n(43144),i=n(60136),o=n(31129),s=n(15854),c=n.n(s),l=n(88411),u=function(t){(0,i.Z)(n,t);var e=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),e.apply(this,arguments)}return(0,a.Z)(n,null,[{key:"getI18nPrefix",value:function(){return"cameras_"}}]),n}(window.visRxWidget||l.VisRxWidget);u.propTypes={context:c().object,themeType:c().string,style:c().object,data:c().object},e.Z=u},57003:function(t,e,n){n.r(e),n.d(e,{CameraField:function(){return x}});var r=n(15671),a=n(43144),i=n(11752),o=n(61120),s=n(60136),c=n(31129),l=n(4942),u=n(74165),f=n(15861),h=n(29439),d=n(4819),p=n.n(d),v=n(12181),m=n(94427),g=n(59665),y=n(52665),b=n(80184),x=function(t){var e=p().useState(null),n=(0,h.Z)(e,2),r=n[0],a=n[1],i=p().useState(t.data[t.field.name]||""),o=(0,h.Z)(i,2),s=o[0],c=o[1];return(0,d.useEffect)((function(){(0,f.Z)((0,u.Z)().mark((function e(){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.context.socket.getAdapterInstances("cameras");case 3:e.sent.forEach((function(e){var r=e._id.split(".").pop();e.native.cameras.filter((function(e){return!t.rtsp||"rtsp"===e.type||e.rtsp})).forEach((function(t){n.push({enabled:!1!==t.enabled,value:"".concat(r,"/").concat(t.name),label:"cameras.".concat(r,"/").concat(t.name),subLabel:t.desc?"".concat(t.desc,"/").concat(t.ip):t.ip||""})}))})),a(n);case 6:case"end":return e.stop()}}),e)})))()}),[t.context.socket,t.rtsp]),r?(0,b.jsx)(m.Select,{fullWidth:!0,variant:"standard",value:s,onChange:function(e){t.setData((0,l.Z)({},t.field.name,e.target.value)),c(e.target.value)},children:r.map((function(t){return(0,b.jsxs)(m.MenuItem,{value:t.value,style:{display:"block",opacity:t.enabled?1:.5},children:[(0,b.jsx)("div",{children:t.label}),(0,b.jsx)("div",{style:{fontSize:10,fontStyle:"italic",opacity:.7},children:t.subLabel}),t.enabled?null:(0,b.jsx)("div",{style:{fontSize:10,fontStyle:"italic",opacity:.7,color:"red"},children:y.Z.t("disabled")})]},t.value)}))}):(0,b.jsx)(m.CircularProgress,{})},w=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).updateStream=function(t,e){null!==e&&void 0!==e&&e.val&&(a.state.loading&&a.setState({loading:!1}),n.drawCamera(a.videoRef,e.val),a.state.full&&n.drawCamera(a.fullVideoRef,e.val))},a.onCameras=function(t){if(t){if("object"===typeof t&&(t.accepted||t.error))return void(t.error&&console.error(t.error));a.state.loading&&a.setState({loading:!1}),n.drawCamera(a.videoRef,t),a.state.full&&n.drawCamera(a.fullVideoRef,t)}},a.onAliveChanged=function(t,e){var r=n.getNameAndInstance(a.state.rxData.camera);if(r&&t==="system.adapter.cameras.".concat(r.instanceId,".alive")){var i=!(null===e||void 0===e||!e.val);i!==a.state.alive&&a.setState({alive:i},(function(){return a.propertiesUpdate()}))}},a.videoInterval=null,a.videoRef=p().createRef(),a.fullVideoRef=p().createRef(),a.currentCam=null,a.state.full=!1,a.state.alive=!1,a}return(0,a.Z)(n,[{key:"getWidgetInfo",value:function(){return n.getWidgetInfo()}},{key:"propertiesUpdate",value:function(){var t=(0,f.Z)((0,u.Z)().mark((function t(){var e,r,a,i,o,s,c,l,f,h,d,p,v,m,g,y;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.useMessages){t.next=4;break}return t.next=3,this.props.context.socket.checkFeatureSupported("INSTANCE_MESSAGES");case 3:this.useMessages=t.sent;case 4:if(this.state.rxData.camera===this.currentCam){t.next=44;break}if(!this.state.alive){t.next=34;break}if(!this.currentCam){t.next=17;break}if(e=n.getNameAndInstance(this.currentCam),r=e.instanceId,a=e.name,!this.useMessages){t.next=13;break}return t.next=11,this.props.context.socket.unsubscribeFromInstance("cameras.".concat(r),"startCamera/".concat(a),this.onCameras);case 11:t.next=17;break;case 13:return t.next=15,this.props.context.socket.setState("cameras.".concat(r,".").concat(a,".running"),{val:!1});case 15:return t.next=17,this.props.context.socket.unsubscribeState("cameras.".concat(r,".").concat(a,".stream"),this.updateStream);case 17:if(!this.state.rxData.camera){t.next=29;break}if(this.setState({loading:!0}),i=n.getNameAndInstance(this.state.rxData.camera),o=i.instanceId,s=i.name,!this.useMessages){t.next=25;break}return t.next=23,this.props.context.socket.subscribeOnInstance("cameras.".concat(o),"startCamera/".concat(s),{width:this.getImageWidth()},this.onCameras);case 23:t.next=27;break;case 25:return t.next=27,this.props.context.socket.subscribeState("cameras.".concat(o,".").concat(s,".stream"),this.updateStream);case 27:t.next=31;break;case 29:(c=this.videoRef.current)&&c.getContext("2d").clearRect(0,0,c.width,c.height);case 31:this.currentCam=this.state.rxData.camera,t.next=42;break;case 34:if(!this.currentCam){t.next=42;break}if(l=n.getNameAndInstance(this.currentCam),f=l.instanceId,h=l.name,this.useMessages){t.next=41;break}return t.next=39,this.props.context.socket.setState("cameras.".concat(f,".").concat(h,".running"),{val:!1});case 39:return t.next=41,this.props.context.socket.unsubscribeState("cameras.".concat(f,".").concat(h,".stream"),this.updateStream);case 41:this.currentCam=null;case 42:t.next=63;break;case 44:if(!this.currentCam||!this.state.alive){t.next=55;break}if(d=n.getNameAndInstance(this.currentCam),p=d.instanceId,v=d.name,!this.useMessages){t.next=51;break}return t.next=49,this.props.context.socket.subscribeOnInstance("cameras.".concat(p),"startCamera/".concat(v),{width:this.getImageWidth()},this.onCameras);case 49:t.next=53;break;case 51:return t.next=53,this.props.context.socket.setState("cameras.".concat(p,".").concat(v,".running"),{val:!0,expire:30});case 53:t.next=63;break;case 55:if(!this.currentCam||this.state.alive){t.next=63;break}if(m=n.getNameAndInstance(this.currentCam),g=m.instanceId,y=m.name,this.useMessages){t.next=62;break}return t.next=60,this.props.context.socket.setState("cameras.".concat(g,".").concat(y,".running"),{val:!1});case 60:return t.next=62,this.props.context.socket.unsubscribeState("cameras.".concat(g,".").concat(y,".stream"),this.updateStream);case 62:this.currentCam=null;case 63:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getImageWidth",value:function(t){var e;return(t=void 0===t?this.state.full:t)&&this.fullVideoRef.current?this.fullVideoRef.current.parentElement.clientWidth||0:(null===(e=this.videoRef.current)||void 0===e?void 0:e.parentElement.clientWidth)||0}},{key:"subscribeOnAlive",value:function(){var t=(0,f.Z)((0,u.Z)().mark((function t(){var e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.getNameAndInstance(this.state.rxData.camera),this.subsribedOnAlive!==(e?e.instanceId:null)&&(this.subsribedOnAlive&&(this.props.context.socket.unsubscribeState("system.adapter.cameras.".concat(this.subsribedOnAlive,".alive"),this.onAliveChanged),this.subsribedOnAlive=""),e&&(this.props.context.socket.subscribeState("system.adapter.cameras.".concat(e.instanceId,".alive"),this.onAliveChanged),this.subsribedOnAlive=e.instanceId));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;(0,i.Z)((0,o.Z)(n.prototype),"componentDidMount",this).call(this),setTimeout((function(){return t.propertiesUpdate()}),100),this.subscribeOnAlive(),this.videoInterval=setInterval((function(){return t.propertiesUpdate()}),14e3)}},{key:"onRxDataChanged",value:function(){var t=(0,f.Z)((0,u.Z)().mark((function t(){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.subscribeOnAlive();case 2:return t.next=4,this.propertiesUpdate();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){if((0,i.Z)((0,o.Z)(n.prototype),"componentWillUnmount",this).call(this),this.videoInterval&&clearInterval(this.videoInterval),this.videoInterval=null,this.subsribedOnAlive&&(this.props.context.socket.unsubscribeState("system.adapter.cameras.".concat(this.subsribedOnAlive,".alive"),this.onAliveChanged),this.subsribedOnAlive=null),this.currentCam){var t=n.getNameAndInstance(this.currentCam),e=t.instanceId,r=t.name;this.useMessages&&this.props.context.socket.unsubscribeFromInstance("cameras.".concat(e),"startCamera/".concat(r),this.onCameras).catch((function(t){return console.error(t)}))}}},{key:"renderDialog",value:function(){var t=this;return this.state.full?(0,b.jsxs)(m.Dialog,{fullWidth:!0,maxWidth:"lg",open:!0,onClose:function(){return t.setState({full:!1})},children:[(0,b.jsx)(m.DialogTitle,{children:this.state.rxData.widgetTitle}),(0,b.jsx)(m.DialogContent,{children:(0,b.jsx)("div",{className:this.props.classes.imageContainer,children:(0,b.jsx)("canvas",{ref:this.fullVideoRef,className:this.props.classes.fullCamera})})}),(0,b.jsx)(m.DialogActions,{children:(0,b.jsx)(m.Button,{onClick:function(e){e.stopPropagation(),e.preventDefault(),t.setState({full:!1})},startIcon:(0,b.jsx)(g.Close,{}),color:"primary",variant:"contained",children:y.Z.t("Close")})})]}):null}},{key:"renderWidgetBody",value:function(t){var e=this;(0,i.Z)((0,o.Z)(n.prototype),"renderWidgetBody",this).call(this,t);var r=(0,b.jsxs)("div",{className:this.props.classes.imageContainer,onClick:function(){return e.setState({full:!0})},children:[this.state.loading&&this.state.alive&&(0,b.jsx)(m.CircularProgress,{className:this.props.classes.progress}),this.state.alive?null:(0,b.jsx)("div",{style:{position:"absolute",top:0,left:0},children:y.Z.t("Camera instance %s inactive",(this.state.rxData.camera||"").split("/")[0])}),(0,b.jsx)("canvas",{ref:this.videoRef,className:this.props.classes.camera}),this.renderDialog()]});return this.state.rxData.noCard||t.widget.usedInWidget?r:this.wrapContent(r,null,{boxSizing:"border-box",paddingBottom:10,height:"100%"})}}],[{key:"getWidgetInfo",value:function(){return{id:"tplCameras2RtspCamera",visSet:"cameras",visName:"RTSP Camera",visWidgetLabel:"RTSP Camera",visWidgetSetLabel:"Cameras",visSetLabel:"Cameras",visSetColor:"#9f0026",visAttrs:[{name:"common",fields:[{name:"noCard",label:"without_card",type:"checkbox"},{name:"widgetTitle",label:"name",hidden:"!!data.noCard"},{name:"width",label:"videoWidth",type:"number",tooltip:"tooltip_videoWidth"},{label:"Camera",name:"camera",type:"custom",component:function(t,e,n,r){return(0,b.jsx)(x,{field:t,rtsp:!0,data:e,setData:n,context:r.context})}}]}],visDefaultStyle:{width:"100%",height:240,position:"relative"},visPrev:"widgets/cameras/img/prev_camera.png"}}},{key:"drawCamera",value:function(t,e){var n=t.current;if(n){var r=n.getContext("2d");try{var a=new Image;a.src="data:image/jpeg;base64,".concat(e),a.onload=function(){n.width=a.width,n.height=a.height,r.drawImage(a,0,0,a.width,a.height)},a.onerror=function(t){console.error(t)}}catch(i){console.error(i)}}}},{key:"getNameAndInstance",value:function(t){if(!t)return null;var e=t.indexOf("/");return-1===e?null:{instanceId:t.substring(0,e),name:t.substring(e+1)}}}]),n}(y.Z);e.default=(0,v.withStyles)((function(){return{camera:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"},fullCamera:{width:"100%",height:"100%",objectFit:"contain"},imageContainer:{flex:1,overflow:"hidden",position:"relative",width:"100%",height:"100%"}}}))(w)},54779:function(t,e,n){n.r(e);var r=n(74165),a=n(15861),i=n(15671),o=n(43144),s=n(11752),c=n(61120),l=n(60136),u=n(31129),f=n(4819),h=n.n(f),d=n(12181),p=n(94427),v=n(59665),m=n(52665),g=n(57003),y=n(80184),b=function(t){(0,l.Z)(n,t);var e=(0,u.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this,t)).updateImage=function(){r.loading||(r.loading=!0,r.videoRef.current&&(r.videoRef.current.src=r.getUrl(),r.videoRef.current.onload=function(t){t.target&&"1"!==!t.target.style.opacity&&(t.target.style.opacity="1"),r.state.error&&r.setState({error:!1}),r.loading=!1},r.videoRef.current.onerror=function(t){t.target&&"0"!==t.target.style.opacity&&(t.target.style.opacity="0"),!r.state.error&&r.setState({error:!0}),r.loading=!1}),r.fullVideoRef.current&&r.state.full&&(r.fullVideoRef.current.src=r.getUrl(!0)))},r.onAliveChanged=function(t,e){var a=n.getNameAndInstance(r.state.rxData.camera);if(a&&t==="system.adapter.cameras.".concat(a.instanceId,".alive")){var i=!(null===e||void 0===e||!e.val);i!==r.state.alive&&r.setState({alive:i},(function(){return r.restartPollingInterval()}))}},r.videoInterval=null,r.videoRef=h().createRef(),r.fullVideoRef=h().createRef(),r.currentCam=null,r.state.full=!1,r.state.alive=!1,r.state.error=!1,r}return(0,o.Z)(n,[{key:"getWidgetInfo",value:function(){return n.getWidgetInfo()}},{key:"getImageWidth",value:function(t){var e,n;return(t=void 0===t?this.state.full:t)&&this.fullVideoRef.current?(null===(n=this.fullVideoRef.current)||void 0===n?void 0:n.parentElement.clientWidth)||0:(null===(e=this.videoRef.current)||void 0===e?void 0:e.parentElement.clientWidth)||0}},{key:"subscribeOnAlive",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n.getNameAndInstance(this.state.rxData.camera),this.subsribedOnAlive!==(e?e.instanceId:null)&&(this.subsribedOnAlive&&(this.props.context.socket.unsubscribeState("system.adapter.cameras.".concat(this.subsribedOnAlive,".alive"),this.onAliveChanged),this.subsribedOnAlive=""),e&&(this.props.context.socket.subscribeState("system.adapter.cameras.".concat(e.instanceId,".alive"),this.onAliveChanged),this.subsribedOnAlive=e.instanceId));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"restartPollingInterval",value:function(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null),this.state.alive&&(this.pollingInterval=setInterval(this.updateImage,parseInt(this.state.full?this.state.rxData.pollingIntervalFull:this.state.rxData.pollingInterval,10)||500))}},{key:"componentDidMount",value:function(){(0,s.Z)((0,c.Z)(n.prototype),"componentDidMount",this).call(this),this.subscribeOnAlive()}},{key:"onRxDataChanged",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.subscribeOnAlive();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){(0,s.Z)((0,c.Z)(n.prototype),"componentWillUnmount",this).call(this),this.pollingInterval&&clearInterval(this.pollingInterval),this.pollingInterval=null,this.subsribedOnAlive&&(this.props.context.socket.unsubscribeState("system.adapter.cameras.".concat(this.subsribedOnAlive,".alive"),this.onAliveChanged),this.subsribedOnAlive=null)}},{key:"renderDialog",value:function(t){var e=this;return this.state.full&&this.state.rxData.bigCamera&&(t=this.getUrl(!0)||t),this.state.full?(0,y.jsxs)(p.Dialog,{fullWidth:!0,maxWidth:"lg",open:!0,onClose:function(){return e.setState({full:!1},(function(){return e.restartPollingInterval()}))},children:[(0,y.jsx)(p.DialogTitle,{children:this.state.rxData.widgetTitle}),(0,y.jsx)(p.DialogContent,{children:(0,y.jsx)("div",{className:this.props.classes.imageContainer,children:(0,y.jsx)("img",{src:t,ref:this.fullVideoRef,className:this.props.classes.fullCamera,alt:this.state.rxData.camera})})}),(0,y.jsx)(p.DialogActions,{children:(0,y.jsx)(p.Button,{onClick:function(t){t.stopPropagation(),t.preventDefault(),e.setState({full:!1},(function(){return e.restartPollingInterval()}))},startIcon:(0,y.jsx)(v.Close,{}),color:"primary",variant:"contained",children:m.Z.t("Close")})})]}):null}},{key:"getUrl",value:function(t){return t&&!this.state.rxData.bigCamera?"../cameras.".concat(this.state.rxData.bigCamera,"?")+["ts=".concat(Date.now()),"w=".concat(this.getImageWidth(!0)),"noCache=".concat(this.state.rxData.noCacheByFull),this.state.rxData.rotate?"angle=".concat(this.state.rxData.rotate):""].filter((function(t){return t})).join("&"):this.state.rxData.camera?"../cameras.".concat(this.state.rxData.camera,"?")+["ts=".concat(Date.now()),"w=".concat(this.getImageWidth(t)),"noCache=".concat(!!t&&this.state.rxData.noCacheByFull),this.state.rxData.rotate?"angle=".concat(this.state.rxData.rotate):""].filter((function(t){return t})).join("&"):""}},{key:"renderWidgetBody",value:function(t){var e=this;(0,s.Z)((0,c.Z)(n.prototype),"renderWidgetBody",this).call(this,t);var r=this.getUrl(),a=(0,y.jsxs)("div",{className:this.props.classes.imageContainer,onClick:function(){return!e.state.error&&e.setState({full:!0},(function(){return e.restartPollingInterval()}))},children:[this.state.alive?null:(0,y.jsx)("div",{style:{position:"absolute",top:20,left:0},children:m.Z.t("Camera instance %s inactive",(this.state.rxData.camera||"").split("/")[0])}),r?(0,y.jsx)("img",{src:r,ref:this.videoRef,className:this.props.classes.camera,alt:this.state.rxData.camera}):m.Z.t("No camera selected"),this.state.alive&&this.state.error?(0,y.jsxs)("div",{style:{position:"absolute",top:20,left:0},children:[(0,y.jsxs)("div",{style:{color:"red"},children:[m.Z.t("Cannot load URL"),":"]}),(0,y.jsx)("div",{children:this.getUrl(!0)})]}):null,this.renderDialog(r)]});return this.state.rxData.noCard||t.widget.usedInWidget?a:this.wrapContent(a,null,{boxSizing:"border-box",paddingBottom:10,height:"100%"})}}],[{key:"getWidgetInfo",value:function(){return{id:"tplCameras2SnapshotCamera",visSet:"cameras",visName:"Polling Camera",visWidgetLabel:"Polling Camera",visAttrs:[{name:"common",fields:[{name:"noCard",label:"without_card",type:"checkbox"},{name:"widgetTitle",label:"name",hidden:"!!data.noCard"},{name:"pollingInterval",label:"pollingInterval",tooltip:"tooltip_ms",type:"number",default:500},{name:"pollingIntervalFull",label:"pollingIntervalFull",tooltip:"tooltip_ms",type:"number",default:300},{name:"noCacheByFull",label:"noCacheByFull",type:"checkbox"},{name:"rotate",label:"rotate",type:"select",noTranslation:!0,options:[{value:0,label:"0\xb0"},{value:90,label:"90\xb0"},{value:180,label:"180\xb0"},{value:270,label:"270\xb0"}]},{label:"Camera",name:"camera",type:"custom",component:function(t,e,n,r){return(0,y.jsx)(g.CameraField,{field:t,data:e,setData:n,context:r.context})}},{label:"camera_in_dialog",name:"bigCamera",type:"custom",component:function(t,e,n,r){return(0,y.jsx)(g.CameraField,{field:t,data:e,setData:n,context:r.context})},hidden:"!data.camera"}]}],visDefaultStyle:{width:"100%",height:240,position:"relative"},visPrev:"widgets/cameras/img/prev_snapshot.png"}}},{key:"getNameAndInstance",value:function(t){if(!t)return null;var e=t.indexOf("/");return-1===e?null:{instanceId:t.substring(0,e),name:t.substring(e+1)}}}]),n}(m.Z);e.default=(0,d.withStyles)((function(){return{camera:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"},fullCamera:{width:"100%",height:"100%",objectFit:"contain"},imageContainer:{flex:1,overflow:"hidden",position:"relative",width:"100%",height:"100%"}}}))(b)},66374:function(t,e,n){var r=n(4819),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:a,type:t,key:l,ref:u,props:i,_owner:s.current}}e.Fragment=i,e.jsx=l,e.jsxs=l},80184:function(t,e,n){t.exports=n(66374)},30907:function(t,e,n){function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},83878:function(t,e,n){function r(t){if(Array.isArray(t))return t}n.d(e,{Z:function(){return r}})},97326:function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},15861:function(t,e,n){function r(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,c,"next",t)}function c(t){r(o,a,i,s,c,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return a}})},15671:function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},43144:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(49142);function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(0,r.Z)(a.key),a)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},31129:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(61120);function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}var i=n(71002),o=n(97326);function s(t){var e=a();return function(){var n,a=(0,r.Z)(t);if(e){var s=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return function(t,e){if(e&&("object"==(0,i.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}(this,n)}}},4942:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(49142);function a(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},11752:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(61120);function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var a=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},a.apply(null,arguments)}},61120:function(t,e,n){function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{Z:function(){return r}})},60136:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(89611);function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.Z)(t,e)}},25267:function(t,e,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,{Z:function(){return r}})},74165:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(71002);function a(){a=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),s=new R(r||[]);return o(i,"_invoke",{value:S(t,n,s)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function x(){}function w(){}var C={};f(C,c,(function(){return this}));var k=Object.getPrototypeOf,I=k&&k(k(E([])));I&&I!==n&&i.call(I,c)&&(C=I);var Z=w.prototype=b.prototype=Object.create(C);function j(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,s,c){var l=d(t[a],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==(0,r.Z)(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}})}function S(e,n,r){var a=p;return function(i,o){if(a===m)throw Error("Generator is already running");if(a===g){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var l=d(e,n,r);if("normal"===l.type){if(a=r.done?g:v,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=g,r.method="throw",r.arg=l.arg)}}}function O(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function E(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(i.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError((0,r.Z)(e)+" is not iterable")}return x.prototype=w,o(Z,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=f(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,u,"GeneratorFunction")),t.prototype=Object.create(Z),t},e.awrap=function(t){return{__await:t}},j(_.prototype),f(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new _(h(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(Z),f(Z,u,"Generator"),f(Z,c,(function(){return this})),f(Z,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}},89611:function(t,e,n){function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,{Z:function(){return r}})},29439:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(83878);var a=n(40181),i=n(25267);function o(t,e){return(0,r.Z)(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||(0,a.Z)(t,e)||(0,i.Z)()}},49142:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(71002);function a(t){var e=function(t,e){if("object"!=(0,r.Z)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,r.Z)(e)?e:e+""}},71002:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:function(){return r}})},40181:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(30907);function a(t,e){if(t){if("string"==typeof t)return(0,r.Z)(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}}}]);
//# sourceMappingURL=src_SnapshotCamera_jsx.40cc413d.chunk.js.map