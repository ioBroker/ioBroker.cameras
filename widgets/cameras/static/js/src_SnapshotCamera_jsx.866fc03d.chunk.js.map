{"version":3,"file":"static/js/src_SnapshotCamera_jsx.866fc03d.chunk.js","mappings":"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","sources":["Generic.jsx","RtspCamera.jsx","SnapshotCamera.jsx","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nclass Generic extends window.visRxWidget {\r\n    static getI18nPrefix() {\r\n        return 'cameras_';\r\n    }\r\n\r\n    // static getObjectIcon(obj, id, imagePrefix) {\r\n    //     imagePrefix = imagePrefix || '../..'; // http://localhost:8081';\r\n    //     let src = '';\r\n    //     const common = obj && obj.common;\r\n    //\r\n    //     if (common) {\r\n    //         const cIcon = common.icon;\r\n    //         if (cIcon) {\r\n    //             if (!cIcon.startsWith('data:image/')) {\r\n    //                 if (cIcon.includes('.')) {\r\n    //                     let instance;\r\n    //                     if (obj.type === 'instance' || obj.type === 'adapter') {\r\n    //                         src = `${imagePrefix}/adapter/${common.name}/${cIcon}`;\r\n    //                     } else if (id && id.startsWith('system.adapter.')) {\r\n    //                         instance = id.split('.', 3);\r\n    //                         if (cIcon[0] === '/') {\r\n    //                             instance[2] += cIcon;\r\n    //                         } else {\r\n    //                             instance[2] += `/${cIcon}`;\r\n    //                         }\r\n    //                         src = `${imagePrefix}/adapter/${instance[2]}`;\r\n    //                     } else {\r\n    //                         instance = id.split('.', 2);\r\n    //                         if (cIcon[0] === '/') {\r\n    //                             instance[0] += cIcon;\r\n    //                         } else {\r\n    //                             instance[0] += `/${cIcon}`;\r\n    //                         }\r\n    //                         src = `${imagePrefix}/adapter/${instance[0]}`;\r\n    //                     }\r\n    //                 } else {\r\n    //                     return null;\r\n    //                 }\r\n    //             } else {\r\n    //                 src = cIcon;\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //\r\n    //     return src || null;\r\n    // }\r\n    //\r\n    // wrapContent(content, addToHeader, cardContentStyle, headerStyle, onCardClick) {\r\n    //     return super.wrapContent(content, addToHeader, cardContentStyle, headerStyle, onCardClick, { Card, CardContent });\r\n    // }\r\n}\r\n\r\nGeneric.propTypes = {\r\n    context: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object,\r\n};\r\n\r\nexport default Generic;\r\n","import React, { useEffect } from 'react';\nimport {\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    MenuItem,\n    Select,\n} from '@mui/material';\n\nimport { Close } from '@mui/icons-material';\n\nimport Generic from './Generic';\n\nconst styles = {\n    camera: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n        cursor: 'pointer',\n    },\n    fullCamera: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n    },\n    imageContainer: {\n        flex: 1,\n        overflow: 'hidden',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n    },\n};\n\nexport const CameraField = props => {\n    const [cameras, setCameras] = React.useState(null);\n    const [camera, setCamera] = React.useState(props.data[props.field.name] || '');\n\n    useEffect(() => {\n        (async () => {\n            const _cameras = [];\n            const instances = await props.context.socket.getAdapterInstances('cameras');\n            instances.forEach(instance => {\n                const instanceId = instance._id.split('.').pop();\n                instance.native.cameras\n                    .filter(iCamera => !props.rtsp || iCamera.type === 'rtsp' || iCamera.rtsp)\n                    .forEach(iCamera => {\n                        _cameras.push({\n                            enabled: iCamera.enabled !== false,\n                            value: `${instanceId}/${iCamera.name}`,\n                            label: `cameras.${instanceId}/${iCamera.name}`,\n                            subLabel: iCamera.desc ? `${iCamera.desc}/${iCamera.ip}` : iCamera.ip || '',\n                        });\n                    });\n            });\n            setCameras(_cameras);\n        })();\n    }, [props.context.socket, props.rtsp]);\n\n    return cameras ? (\n        <Select\n            fullWidth\n            variant=\"standard\"\n            value={camera}\n            onChange={e => {\n                props.setData({ [props.field.name]: e.target.value });\n                setCamera(e.target.value);\n            }}\n        >\n            {cameras.map(iCamera => (\n                <MenuItem\n                    key={iCamera.value}\n                    value={iCamera.value}\n                    style={{ display: 'block', opacity: iCamera.enabled ? 1 : 0.5 }}\n                >\n                    <div>{iCamera.label}</div>\n                    <div style={{ fontSize: 10, fontStyle: 'italic', opacity: 0.7 }}>{iCamera.subLabel}</div>\n                    {!iCamera.enabled ? (\n                        <div\n                            style={{\n                                fontSize: 10,\n                                fontStyle: 'italic',\n                                opacity: 0.7,\n                                color: 'red',\n                            }}\n                        >\n                            {Generic.t('disabled')}\n                        </div>\n                    ) : null}\n                </MenuItem>\n            ))}\n        </Select>\n    ) : (\n        <CircularProgress />\n    );\n};\n\nclass RtspCamera extends Generic {\n    constructor(props) {\n        super(props);\n        this.videoInterval = null;\n        this.videoRef = React.createRef();\n        this.fullVideoRef = React.createRef();\n        this.currentCam = null;\n        this.state.full = false;\n        this.state.alive = false;\n    }\n\n    static getWidgetInfo() {\n        return {\n            id: 'tplCameras2RtspCamera',\n            visSet: 'cameras',\n            visName: 'RTSP Camera',\n            visWidgetLabel: 'RTSP Camera',\n            visWidgetSetLabel: 'Cameras',\n            visSetLabel: 'Cameras',\n            visSetColor: '#9f0026',\n            visAttrs: [\n                {\n                    name: 'common',\n                    fields: [\n                        {\n                            name: 'noCard',\n                            label: 'without_card',\n                            type: 'checkbox',\n                        },\n                        {\n                            name: 'widgetTitle',\n                            label: 'name',\n                            hidden: '!!data.noCard',\n                        },\n                        {\n                            name: 'width',\n                            label: 'videoWidth',\n                            type: 'number',\n                            tooltip: 'tooltip_videoWidth',\n                        },\n                        {\n                            label: 'Camera',\n                            name: 'camera',\n                            type: 'custom',\n                            component: (field, data, setData, props) => (\n                                <CameraField\n                                    field={field}\n                                    rtsp\n                                    data={data}\n                                    setData={setData}\n                                    context={props.context}\n                                />\n                            ),\n                        },\n                    ],\n                },\n            ],\n            visDefaultStyle: {\n                width: '100%',\n                height: 240,\n                position: 'relative',\n            },\n            visPrev: 'widgets/cameras/img/prev_camera.png',\n        };\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getWidgetInfo() {\n        return RtspCamera.getWidgetInfo();\n    }\n\n    static drawCamera(ref, data) {\n        const canvas = ref.current;\n        if (!canvas) {\n            return;\n        }\n        const context = canvas.getContext('2d');\n        try {\n            const imageObj = new Image();\n            imageObj.src = `data:image/jpeg;base64,${data}`;\n            imageObj.onload = () => {\n                canvas.width = imageObj.width;\n                canvas.height = imageObj.height;\n                // const hRatio = canvas.width  / imageObj.width;\n                // const vRatio = canvas.height / imageObj.height;\n                // const ratio  = Math.min(hRatio, vRatio);\n                // const centerShiftX = (canvas.width - imageObj.width * ratio) / 2;\n                // const centerShiftY = (canvas.height - imageObj.height * ratio) / 2;\n                // context.clearRect(0, 0, canvas.width, canvas.height);\n                context.drawImage(\n                    imageObj,\n                    0,\n                    0,\n                    imageObj.width,\n                    imageObj.height,\n                    // centerShiftX,\n                    // centerShiftY,\n                    // imageObj.width * ratio,\n                    // imageObj.height * ratio,\n                );\n            };\n            imageObj.onerror = e => {\n                console.error(e);\n            };\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    updateStream = (id, state) => {\n        if (state?.val) {\n            if (this.state.loading) {\n                this.setState({ loading: false });\n            }\n\n            RtspCamera.drawCamera(this.videoRef, state.val);\n\n            if (this.state.full) {\n                RtspCamera.drawCamera(this.fullVideoRef, state.val);\n            }\n        }\n    };\n\n    static getNameAndInstance(value) {\n        if (!value) {\n            return null;\n        }\n        const pos = value.indexOf('/');\n        if (pos === -1) {\n            return null;\n        }\n        return {\n            instanceId: value.substring(0, pos),\n            name: value.substring(pos + 1),\n        };\n    }\n\n    onCameras = data => {\n        if (data) {\n            // if it is success or error object\n            if (typeof data === 'object' && (data.accepted || data.error)) {\n                if (data.error) {\n                    console.error(data.error);\n                }\n                return;\n            }\n\n            if (this.state.loading) {\n                this.setState({ loading: false });\n            }\n\n            RtspCamera.drawCamera(this.videoRef, data);\n\n            if (this.state.full) {\n                RtspCamera.drawCamera(this.fullVideoRef, data);\n            }\n        }\n    };\n\n    async propertiesUpdate() {\n        if (this.useMessages === undefined) {\n            this.useMessages = await this.props.context.socket.checkFeatureSupported('INSTANCE_MESSAGES');\n        }\n        if (this.state.rxData.camera !== this.currentCam) {\n            // check if camera instance is alive\n            if (this.state.alive) {\n                // this.width = this.getImageWidth();\n                // if we were subscribed, unsubscribe\n                if (this.currentCam) {\n                    const { instanceId, name } = RtspCamera.getNameAndInstance(this.currentCam);\n                    if (this.useMessages) {\n                        await this.props.context.socket.unsubscribeFromInstance(\n                            `cameras.${instanceId}`,\n                            `startCamera/${name}`,\n                            this.onCameras,\n                        );\n                    } else {\n                        // Bluefox 2023.09.28: delete this branch after js-controller 5.0.13 will be mainstream\n                        await this.props.context.socket.setState(`cameras.${instanceId}.${name}.running`, {\n                            val: false,\n                        });\n                        await this.props.context.socket.unsubscribeState(\n                            `cameras.${instanceId}.${name}.stream`,\n                            this.updateStream,\n                        );\n                    }\n                }\n\n                // subscribe on new camera\n                if (this.state.rxData.camera) {\n                    this.setState({ loading: true });\n                    const { instanceId, name } = RtspCamera.getNameAndInstance(this.state.rxData.camera);\n                    if (this.useMessages) {\n                        await this.props.context.socket.subscribeOnInstance(\n                            `cameras.${instanceId}`,\n                            `startCamera/${name}`,\n                            { width: this.getImageWidth() },\n                            this.onCameras,\n                        );\n                    } else {\n                        await this.props.context.socket.subscribeState(\n                            `cameras.${instanceId}.${name}.stream`,\n                            this.updateStream,\n                        );\n                    }\n                } else {\n                    const canvas = this.videoRef.current;\n                    if (canvas) {\n                        const context = canvas.getContext('2d');\n                        context.clearRect(0, 0, canvas.width, canvas.height);\n                    }\n                }\n                this.currentCam = this.state.rxData.camera;\n            } else if (this.currentCam) {\n                // not alive\n                const { instanceId, name } = RtspCamera.getNameAndInstance(this.currentCam);\n                if (!this.useMessages) {\n                    await this.props.context.socket.setState(`cameras.${instanceId}.${name}.running`, { val: false });\n                    await this.props.context.socket.unsubscribeState(\n                        `cameras.${instanceId}.${name}.stream`,\n                        this.updateStream,\n                    );\n                }\n                this.currentCam = null;\n            }\n        } else if (this.currentCam && this.state.alive) {\n            // refresh stream\n            const { instanceId, name } = RtspCamera.getNameAndInstance(this.currentCam);\n            if (this.useMessages) {\n                await this.props.context.socket.subscribeOnInstance(\n                    `cameras.${instanceId}`,\n                    `startCamera/${name}`,\n                    { width: this.getImageWidth() },\n                    this.onCameras,\n                );\n            } else {\n                await this.props.context.socket.setState(`cameras.${instanceId}.${name}.running`, {\n                    val: true,\n                    expire: 30, // expire in 30 seconds\n                });\n            }\n        } else if (this.currentCam && !this.state.alive) {\n            // not alive\n            const { instanceId, name } = RtspCamera.getNameAndInstance(this.currentCam);\n            if (!this.useMessages) {\n                await this.props.context.socket.setState(`cameras.${instanceId}.${name}.running`, { val: false });\n                await this.props.context.socket.unsubscribeState(\n                    `cameras.${instanceId}.${name}.stream`,\n                    this.updateStream,\n                );\n            }\n            this.currentCam = null;\n        }\n    }\n\n    getImageWidth(isFull) {\n        isFull = isFull === undefined ? this.state.full : isFull;\n        // if (parseInt(this.state.rxData.width, 10)) {\n        //    return parseInt(this.state.rxData.width, 10);\n        // }\n        if (isFull && this.fullVideoRef.current) {\n            return this.fullVideoRef.current.parentElement.clientWidth || 0;\n        }\n\n        return this.videoRef.current?.parentElement.clientWidth || 0;\n    }\n\n    async subscribeOnAlive() {\n        const data = RtspCamera.getNameAndInstance(this.state.rxData.camera);\n\n        if (this.subsribedOnAlive !== (data ? data.instanceId : null)) {\n            if (this.subsribedOnAlive) {\n                this.props.context.socket.unsubscribeState(\n                    `system.adapter.cameras.${this.subsribedOnAlive}.alive`,\n                    this.onAliveChanged,\n                );\n                this.subsribedOnAlive = '';\n            }\n            if (data) {\n                this.props.context.socket.subscribeState(\n                    `system.adapter.cameras.${data.instanceId}.alive`,\n                    this.onAliveChanged,\n                );\n                this.subsribedOnAlive = data.instanceId;\n            }\n        }\n    }\n\n    onAliveChanged = (id, state) => {\n        const data = RtspCamera.getNameAndInstance(this.state.rxData.camera);\n        if (data && id === `system.adapter.cameras.${data.instanceId}.alive`) {\n            const alive = !!state?.val;\n            if (alive !== this.state.alive) {\n                this.setState({ alive }, () => this.propertiesUpdate());\n            }\n        }\n    };\n\n    componentDidMount() {\n        super.componentDidMount();\n        setTimeout(() => this.propertiesUpdate(), 100);\n\n        this.subscribeOnAlive();\n\n        this.videoInterval = setInterval(() => this.propertiesUpdate(), 14000);\n    }\n\n    async onRxDataChanged(/* prevRxData */) {\n        await this.subscribeOnAlive();\n        await this.propertiesUpdate();\n    }\n\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.videoInterval && clearInterval(this.videoInterval);\n        this.videoInterval = null;\n\n        if (this.subsribedOnAlive) {\n            this.props.context.socket.unsubscribeState(\n                `system.adapter.cameras.${this.subsribedOnAlive}.alive`,\n                this.onAliveChanged,\n            );\n            this.subsribedOnAlive = null;\n        }\n\n        if (this.currentCam) {\n            const { instanceId, name } = RtspCamera.getNameAndInstance(this.currentCam);\n            if (this.useMessages) {\n                this.props.context.socket\n                    .unsubscribeFromInstance(`cameras.${instanceId}`, `startCamera/${name}`, this.onCameras)\n                    .catch(e => console.error(e));\n            }\n        }\n    }\n\n    renderDialog() {\n        return this.state.full ? (\n            <Dialog\n                fullWidth\n                maxWidth=\"lg\"\n                open={!0}\n                onClose={() => this.setState({ full: false })}\n            >\n                <DialogTitle>{this.state.rxData.widgetTitle}</DialogTitle>\n                <DialogContent>\n                    <div style={styles.imageContainer}>\n                        <canvas\n                            ref={this.fullVideoRef}\n                            style={styles.fullCamera}\n                        ></canvas>\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={e => {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            this.setState({ full: false });\n                        }}\n                        startIcon={<Close />}\n                        color=\"primary\"\n                        variant=\"contained\"\n                    >\n                        {Generic.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : null;\n    }\n\n    renderWidgetBody(props) {\n        super.renderWidgetBody(props);\n\n        const content = (\n            <div\n                style={styles.imageContainer}\n                onClick={() => this.setState({ full: true })}\n            >\n                {this.state.loading && this.state.alive && <CircularProgress style={styles.progress} />}\n                {!this.state.alive ? (\n                    <div style={{ position: 'absolute', top: 0, left: 0 }}>\n                        {Generic.t('Camera instance %s inactive', (this.state.rxData.camera || '').split('/')[0])}\n                    </div>\n                ) : null}\n                <canvas\n                    ref={this.videoRef}\n                    style={styles.camera}\n                ></canvas>\n                {this.renderDialog()}\n            </div>\n        );\n\n        if (this.state.rxData.noCard || props.widget.usedInWidget) {\n            return content;\n        }\n\n        return this.wrapContent(content, null, {\n            boxSizing: 'border-box',\n            paddingBottom: 10,\n            height: '100%',\n        });\n    }\n}\n\nexport default RtspCamera;\n","import React from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@mui/material';\n\nimport { Close } from '@mui/icons-material';\n\nimport Generic from './Generic';\nimport { CameraField } from './RtspCamera';\n\nconst styles = {\n    camera: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n        cursor: 'pointer',\n    },\n    fullCamera: {\n        width: '100%',\n        height: '100%',\n        objectFit: 'contain',\n    },\n    imageContainer: {\n        flex: 1,\n        overflow: 'hidden',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n    },\n};\n\nclass SnapshotCamera extends Generic {\n    constructor(props) {\n        super(props);\n        this.videoInterval = null;\n        this.videoRef = React.createRef();\n        this.fullVideoRef = React.createRef();\n        this.currentCam = null;\n        this.state.full = false;\n        this.state.alive = false;\n        this.state.error = false;\n    }\n\n    static getWidgetInfo() {\n        return {\n            id: 'tplCameras2SnapshotCamera',\n            visSet: 'cameras',\n            visName: 'Polling Camera',\n            visWidgetLabel: 'Polling Camera',\n            visAttrs: [\n                {\n                    name: 'common',\n                    fields: [\n                        {\n                            name: 'noCard',\n                            label: 'without_card',\n                            type: 'checkbox',\n                        },\n                        {\n                            name: 'widgetTitle',\n                            label: 'name',\n                            hidden: '!!data.noCard',\n                        },\n                        {\n                            name: 'pollingInterval',\n                            label: 'pollingInterval',\n                            tooltip: 'tooltip_ms',\n                            type: 'number',\n                            default: 500,\n                        },\n                        {\n                            name: 'pollingIntervalFull',\n                            label: 'pollingIntervalFull',\n                            tooltip: 'tooltip_ms',\n                            type: 'number',\n                            default: 300,\n                        },\n                        {\n                            name: 'noCacheByFull',\n                            label: 'noCacheByFull',\n                            type: 'checkbox',\n                        },\n                        {\n                            name: 'rotate',\n                            label: 'rotate',\n                            type: 'select',\n                            noTranslation: true,\n                            options: [\n                                { value: 0, label: '0°' },\n                                { value: 90, label: '90°' },\n                                { value: 180, label: '180°' },\n                                { value: 270, label: '270°' },\n                            ],\n                        },\n                        {\n                            label: 'Camera',\n                            name: 'camera',\n                            type: 'custom',\n                            component: (field, data, setData, props) => (\n                                <CameraField\n                                    field={field}\n                                    data={data}\n                                    setData={setData}\n                                    context={props.context}\n                                />\n                            ),\n                        },\n                        {\n                            label: 'camera_in_dialog',\n                            name: 'bigCamera',\n                            type: 'custom',\n                            component: (field, data, setData, props) => (\n                                <CameraField\n                                    field={field}\n                                    data={data}\n                                    setData={setData}\n                                    context={props.context}\n                                />\n                            ),\n                            hidden: '!data.camera',\n                        },\n                    ],\n                },\n            ],\n            visDefaultStyle: {\n                width: '100%',\n                height: 240,\n                position: 'relative',\n            },\n            visPrev: 'widgets/cameras/img/prev_snapshot.png',\n        };\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getWidgetInfo() {\n        return SnapshotCamera.getWidgetInfo();\n    }\n\n    static getNameAndInstance(value) {\n        if (!value) {\n            return null;\n        }\n        const pos = value.indexOf('/');\n        if (pos === -1) {\n            return null;\n        }\n        return {\n            instanceId: value.substring(0, pos),\n            name: value.substring(pos + 1),\n        };\n    }\n\n    getImageWidth(isFull) {\n        isFull = isFull === undefined ? this.state.full : isFull;\n        if (isFull && this.fullVideoRef.current) {\n            return this.fullVideoRef.current?.parentElement.clientWidth || 0;\n        }\n\n        return this.videoRef.current?.parentElement.clientWidth || 0;\n    }\n\n    async subscribeOnAlive() {\n        const data = SnapshotCamera.getNameAndInstance(this.state.rxData.camera);\n\n        if (this.subsribedOnAlive !== (data ? data.instanceId : null)) {\n            if (this.subsribedOnAlive) {\n                this.props.context.socket.unsubscribeState(\n                    `system.adapter.cameras.${this.subsribedOnAlive}.alive`,\n                    this.onAliveChanged,\n                );\n                this.subsribedOnAlive = '';\n            }\n            if (data) {\n                this.props.context.socket.subscribeState(\n                    `system.adapter.cameras.${data.instanceId}.alive`,\n                    this.onAliveChanged,\n                );\n                this.subsribedOnAlive = data.instanceId;\n            }\n        }\n    }\n\n    updateImage = () => {\n        if (!this.loading) {\n            this.loading = true;\n            if (this.videoRef.current) {\n                this.videoRef.current.src = this.getUrl();\n                this.videoRef.current.onload = e => {\n                    if (e.target && !e.target.style.opacity !== '1') {\n                        e.target.style.opacity = '1';\n                    }\n                    this.state.error && this.setState({ error: false });\n                    this.loading = false;\n                };\n                this.videoRef.current.onerror = e => {\n                    if (e.target && e.target.style.opacity !== '0') {\n                        e.target.style.opacity = '0';\n                    }\n                    !this.state.error && this.setState({ error: true });\n\n                    this.loading = false;\n                };\n            }\n            if (this.fullVideoRef.current && this.state.full) {\n                this.fullVideoRef.current.src = this.getUrl(true);\n            }\n        }\n    };\n\n    restartPollingInterval() {\n        if (this.pollingInterval) {\n            clearInterval(this.pollingInterval);\n            this.pollingInterval = null;\n        }\n        if (this.state.alive) {\n            this.pollingInterval = setInterval(\n                this.updateImage,\n                parseInt(\n                    this.state.full ? this.state.rxData.pollingIntervalFull : this.state.rxData.pollingInterval,\n                    10,\n                ) || 500,\n            );\n        }\n    }\n\n    onAliveChanged = (id, state) => {\n        const data = SnapshotCamera.getNameAndInstance(this.state.rxData.camera);\n        if (data && id === `system.adapter.cameras.${data.instanceId}.alive`) {\n            const alive = !!state?.val;\n            if (alive !== this.state.alive) {\n                this.setState({ alive }, () => this.restartPollingInterval());\n            }\n        }\n    };\n\n    componentDidMount() {\n        super.componentDidMount();\n\n        this.subscribeOnAlive();\n    }\n\n    async onRxDataChanged(/* prevRxData */) {\n        await this.subscribeOnAlive();\n    }\n\n    componentWillUnmount() {\n        super.componentWillUnmount();\n        this.pollingInterval && clearInterval(this.pollingInterval);\n        this.pollingInterval = null;\n\n        if (this.subsribedOnAlive) {\n            this.props.context.socket.unsubscribeState(\n                `system.adapter.cameras.${this.subsribedOnAlive}.alive`,\n                this.onAliveChanged,\n            );\n            this.subsribedOnAlive = null;\n        }\n    }\n\n    renderDialog(url) {\n        if (this.state.full && this.state.rxData.bigCamera) {\n            url = this.getUrl(true) || url;\n        }\n\n        return this.state.full ? (\n            <Dialog\n                fullWidth\n                maxWidth=\"lg\"\n                open={!0}\n                onClose={() => this.setState({ full: false }, () => this.restartPollingInterval())}\n            >\n                <DialogTitle>{this.state.rxData.widgetTitle}</DialogTitle>\n                <DialogContent>\n                    <div style={styles.imageContainer}>\n                        <img\n                            src={url}\n                            ref={this.fullVideoRef}\n                            style={styles.fullCamera}\n                            alt={this.state.rxData.camera}\n                        />\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={e => {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            this.setState({ full: false }, () => this.restartPollingInterval());\n                        }}\n                        startIcon={<Close />}\n                        color=\"primary\"\n                        variant=\"contained\"\n                    >\n                        {Generic.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        ) : null;\n    }\n\n    getUrl(isFull) {\n        if (isFull && !this.state.rxData.bigCamera) {\n            const url = `../cameras.${this.state.rxData.bigCamera}?`;\n            const params = [\n                `ts=${Date.now()}`,\n                `w=${this.getImageWidth(true)}`,\n                `noCache=${this.state.rxData.noCacheByFull}`,\n                this.state.rxData.rotate ? `angle=${this.state.rxData.rotate}` : '',\n            ];\n            return url + params.filter(p => p).join('&');\n        }\n        if (this.state.rxData.camera) {\n            const url = `../cameras.${this.state.rxData.camera}?`;\n            const params = [\n                `ts=${Date.now()}`,\n                `w=${this.getImageWidth(isFull)}`,\n                `noCache=${isFull ? this.state.rxData.noCacheByFull : false}`,\n                this.state.rxData.rotate ? `angle=${this.state.rxData.rotate}` : '',\n            ];\n            return url + params.filter(p => p).join('&');\n        }\n\n        return '';\n    }\n\n    renderWidgetBody(props) {\n        super.renderWidgetBody(props);\n\n        const url = this.getUrl();\n\n        const content = (\n            <div\n                style={styles.imageContainer}\n                onClick={() => !this.state.error && this.setState({ full: true }, () => this.restartPollingInterval())}\n            >\n                {!this.state.alive ? (\n                    <div style={{ position: 'absolute', top: 20, left: 0 }}>\n                        {Generic.t('Camera instance %s inactive', (this.state.rxData.camera || '').split('/')[0])}\n                    </div>\n                ) : null}\n                {url ? (\n                    <img\n                        src={url}\n                        ref={this.videoRef}\n                        style={styles.camera}\n                        alt={this.state.rxData.camera}\n                    />\n                ) : (\n                    Generic.t('No camera selected')\n                )}\n                {this.state.alive && this.state.error ? (\n                    <div\n                        style={{\n                            position: 'absolute',\n                            top: 20,\n                            left: 0,\n                        }}\n                    >\n                        <div style={{ color: 'red' }}>{Generic.t('Cannot load URL')}:</div>\n                        <div>{this.getUrl(true)}</div>\n                    </div>\n                ) : null}\n                {this.renderDialog(url)}\n            </div>\n        );\n\n        if (this.state.rxData.noCard || props.widget.usedInWidget) {\n            return content;\n        }\n\n        return this.wrapContent(content, null, {\n            boxSizing: 'border-box',\n            paddingBottom: 10,\n            height: '100%',\n        });\n    }\n}\n\nexport default SnapshotCamera;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _createSuper(t) {\n  var r = isNativeReflectConstruct();\n  return function () {\n    var e,\n      o = getPrototypeOf(t);\n    if (r) {\n      var s = getPrototypeOf(this).constructor;\n      e = Reflect.construct(o, arguments, s);\n    } else e = o.apply(this, arguments);\n    return possibleConstructorReturn(this, e);\n  };\n}\nexport { _createSuper as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import superPropBase from \"./superPropBase.js\";\nfunction _get() {\n  return _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n    var p = superPropBase(e, t);\n    if (p) {\n      var n = Object.getOwnPropertyDescriptor(p, t);\n      return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value;\n    }\n  }, _get.apply(null, arguments);\n}\nexport { _get as default };","import getPrototypeOf from \"./getPrototypeOf.js\";\nfunction _superPropBase(t, o) {\n  for (; !{}.hasOwnProperty.call(t, o) && null !== (t = getPrototypeOf(t)););\n  return t;\n}\nexport { _superPropBase as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","import _typeof from \"./typeof.js\";\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  };\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nexport { _regeneratorRuntime as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };"],"names":["Generic","_window$visRxWidget","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","window","visRxWidget","propTypes","context","PropTypes","themeType","style","data","styles","camera","width","height","objectFit","cursor","fullCamera","imageContainer","flex","overflow","position","CameraField","props","_React$useState","React","_React$useState2","_slicedToArray","cameras","setCameras","_React$useState3","field","name","_React$useState4","setCamera","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_cameras","wrap","_context","prev","next","socket","getAdapterInstances","sent","forEach","instance","instanceId","_id","split","pop","native","filter","iCamera","rtsp","type","push","enabled","concat","label","subLabel","desc","ip","stop","_jsx","Select","fullWidth","variant","onChange","e","setData","_defineProperty","target","children","map","_jsxs","MenuItem","display","opacity","fontSize","fontStyle","color","t","CircularProgress","RtspCamera","_Generic","_this","call","updateStream","id","state","val","loading","setState","drawCamera","videoRef","full","fullVideoRef","onCameras","accepted","error","console","onAliveChanged","getNameAndInstance","rxData","alive","propertiesUpdate","videoInterval","currentCam","getWidgetInfo","_propertiesUpdate","_callee2","_RtspCamera$getNameAn","_RtspCamera$getNameAn2","_instanceId","_name","canvas","_RtspCamera$getNameAn3","_instanceId2","_name2","_RtspCamera$getNameAn4","_instanceId3","_name3","_RtspCamera$getNameAn5","_instanceId4","_name4","_context2","undefined","this","useMessages","checkFeatureSupported","unsubscribeFromInstance","unsubscribeState","subscribeOnInstance","getImageWidth","subscribeState","current","getContext","clearRect","expire","isFull","_this$videoRef$curren","parentElement","clientWidth","_subscribeOnAlive","_callee3","_context3","subsribedOnAlive","_this2","_get","_getPrototypeOf","prototype","setTimeout","subscribeOnAlive","setInterval","_onRxDataChanged","_callee4","_context4","clearInterval","_RtspCamera$getNameAn6","catch","_this3","Dialog","maxWidth","open","onClose","DialogTitle","widgetTitle","DialogContent","ref","DialogActions","Button","onClick","stopPropagation","preventDefault","startIcon","Close","_this4","content","progress","top","left","renderDialog","noCard","widget","usedInWidget","wrapContent","boxSizing","paddingBottom","visSet","visName","visWidgetLabel","visWidgetSetLabel","visSetLabel","visSetColor","visAttrs","fields","hidden","tooltip","component","visDefaultStyle","visPrev","imageObj","Image","src","onload","drawImage","onerror","pos","indexOf","substring","SnapshotCamera","updateImage","getUrl","restartPollingInterval","_this$fullVideoRef$cu","pollingInterval","parseInt","pollingIntervalFull","url","bigCamera","alt","Date","now","noCacheByFull","rotate","p","join","default","noTranslation","options","f","require","k","Symbol","for","l","m","Object","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","__self","__source","q","c","a","g","b","d","h","defaultProps","$$typeof","_owner","exports","jsx","jsxs","module","_arrayLikeToArray","r","length","Array","_arrayWithHoles","isArray","_assertThisInitialized","ReferenceError","asyncGeneratorStep","o","i","u","done","Promise","resolve","then","_next","_throw","TypeError","_defineProperties","enumerable","configurable","writable","defineProperty","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","getPrototypeOf","s","constructor","assertThisInitialized","get","bind","getOwnPropertyDescriptor","setPrototypeOf","__proto__","create","_nonIterableRest","iterator","asyncIterator","toStringTag","define","Generator","Context","makeInvokeMethod","tryCatch","arg","y","GeneratorFunction","GeneratorFunctionPrototype","v","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","awrap","async","keys","reverse","charAt","slice","rval","handle","complete","finish","delegateYield","_setPrototypeOf","arrayWithHoles","unsupportedIterableToArray","nonIterableRest","toPropertyKey","toPrimitive","String","Number","_typeof","_unsupportedIterableToArray","toString","from","test"],"sourceRoot":""}